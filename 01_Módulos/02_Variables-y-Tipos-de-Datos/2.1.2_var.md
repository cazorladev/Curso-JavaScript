# **ğŸ“Œ 2.1.2 `var` â†’ ExplicaciÃ³n y por quÃ© evitarlo**  

El uso de `var` en JavaScript ha sido comÃºn desde sus inicios, pero con la introducciÃ³n de `let` y `const` en **ES6 (ECMAScript 2015)**, su uso ha quedado obsoleto debido a problemas relacionados con el **alcance de variables, hoisting y re-declaraciÃ³n accidental**.  

---

## **Â¿QuÃ© es `var` y cÃ³mo funciona?**  

`var` se usa para declarar variables en JavaScript, pero tiene un comportamiento diferente al de `let` y `const` en cuanto a su **alcance** y **hoisting**.  

ğŸ“Œ **Ejemplo de uso de `var`**:  
```javascript
var nombre = "Juan";
console.log(nombre); // "Juan"
```

Sin embargo, su uso puede generar problemas en el cÃ³digo, como veremos a continuaciÃ³n.  

---

## **Problemas con `var` y razones para evitarlo**  

### **ğŸ“Œ 1. `var` tiene alcance de funciÃ³n, no de bloque**  

Las variables declaradas con `var` **no estÃ¡n limitadas a un bloque `{}`**, sino que son accesibles dentro de toda la funciÃ³n en la que fueron declaradas.  

ğŸ“Œ **Ejemplo problemÃ¡tico:**  
```javascript
if (true) {
    var edad = 25;
}
console.log(edad); // âœ… 25 (Accesible fuera del bloque, lo cual no es seguro)
```
> [!CAUTION]
> La variable `edad` estÃ¡ accesible fuera del bloque `if`, lo que puede causar errores inesperados en el cÃ³digo.


âœ” **SoluciÃ³n con `let` o `const`**:  
```javascript
if (true) {
    let edad = 25;
}
console.log(edad); // âŒ Error: edad is not defined (lo cual es mÃ¡s seguro)
```

---

### **ğŸ“Œ 2. `var` permite la redeclaraciÃ³n de variables**  

A diferencia de `let` y `const`, `var` permite declarar una misma variable varias veces sin errores. Esto puede ocasionar sobreescrituras accidentales.  

ğŸ“Œ **Ejemplo con `var`**:  
```javascript
var mensaje = "Hola";
var mensaje = "AdiÃ³s";
console.log(mensaje); // "AdiÃ³s" (sobreescribe sin errores)
```

> [!CAUTION]
> Esto puede generar **conflictos inesperados** en programas grandes 

âœ” **SoluciÃ³n con `let` o `const`**:  
```javascript
let mensaje = "Hola";
let mensaje = "AdiÃ³s"; // âŒ Error: Identifier 'mensaje' has already been declared
```

---

### **ğŸ“Œ 3. `var` sufre de `hoisting` con inicializaciÃ³n en `undefined`**  

El **hoisting** es un mecanismo en JavaScript donde las declaraciones de variables con `var` se "mueven" al inicio del cÃ³digo **antes de su ejecuciÃ³n**.  

ğŸ“Œ **Ejemplo con `var` y hoisting**:  
```javascript
console.log(nombre); // â“ Â¿QuÃ© pasa aquÃ­?
var nombre = "Pedro";
console.log(nombre);
```
ğŸ”´ **Salida inesperada:**  
```
undefined
Pedro
```

> [!CAUTION]
> La variable `nombre` es "elevada" (`hoisted`), pero **se inicializa con `undefined`** en lugar de su valor real. 


âœ” **SoluciÃ³n con `let` o `const`**:  
```javascript
console.log(nombre); // âŒ Error: Cannot access 'nombre' before initialization
let nombre = "Pedro";
```
ğŸ”¹ **Con `let` y `const`, el hoisting ocurre, pero la variable no estÃ¡ disponible hasta su declaraciÃ³n, lo cual previene errores.**

---

## **Â¿CuÃ¡ndo seguir usando `var`?**  

En la mayorÃ­a de los casos, **NO se recomienda usar `var`**, pero hay algunas excepciones:  

1. **Cuando trabajas con cÃ³digo antiguo** o librerÃ­as que dependen de `var`.  
2. **En entornos donde `let` y `const` no estÃ¡n disponibles**, lo cual es raro hoy en dÃ­a.  
3. **Para entender el comportamiento de cÃ³digo heredado**, si trabajas en mantenimiento de aplicaciones antiguas.  

> [!TIP]
> Usa `let` o `const` en lugar de `var` para un cÃ³digo mÃ¡s seguro y predecible.


## **ConclusiÃ³n**  

ğŸ”´ **Evita `var` en nuevos proyectos**, ya que introduce problemas de alcance, hoisting y re-declaraciÃ³n que pueden generar errores difÃ­ciles de detectar.  
âœ… **Usa `let` o `const`** para garantizar un cÃ³digo mÃ¡s limpio, seguro y mantenible.  

Si trabajas con cÃ³digo antiguo, es importante entender `var`, pero en el desarrollo moderno **`let` y `const` son las mejores opciones**. ğŸš€
